<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ragana Traders - Products</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&family=Crimson+Text:wght@400;600&display=swap" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  <style>
    :root {
      --primary: #1a4d32;
      --secondary: #7cb563;
      --white: #fff;
      --dark-footer-bg: #0e140f;
      --shadow: rgba(124,181,99,0.25);
    }
    * {
      margin: 0; padding: 0; box-sizing: border-box;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background: #fafaf7;
      color: var(--primary);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }
    header {
      background: var(--primary);
      color: var(--white);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1050;
    }
    .logo {
      display: flex;
      align-items: center;
      font-family: 'Crimson Text', serif;
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--white);
      cursor: pointer;
      user-select: none;
    }
    .logo img {
      height: 44px;
      margin-right: 12px;
    }
    nav a {
      color: var(--white);
      font-weight: 600;
      font-size: 1rem;
      margin-left: 2rem;
      text-decoration: none;
      transition: color 0.3s ease;
      position: relative;
    }
    nav a.active,
    nav a:hover {
      color: var(--secondary);
    }
    nav a.active::after,
    nav a:hover::after {
      content: '';
      display: block;
      width: 100%;
      height: 2.5px;
      background: var(--secondary);
      position: absolute;
      bottom: -6px;
      left: 0;
      border-radius: 2px;
    }
    main {
      max-width: 1100px;
      margin: 3rem auto;
      padding: 0 1rem;
    }
    h1 {
      font-family: 'Crimson Text', serif;
      font-weight: 700;
      font-size: 2.8rem;
      margin-bottom: 2.2rem;
      text-align: center;
      user-select: none;
    }
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2rem;
    }
    .product-card {
      background: var(--white);
      border-radius: 24px;
      box-shadow: 0 10px 30px var(--shadow);
      cursor: pointer;
      opacity: 0;
      transform: translateY(52px);
      transition: opacity 0.6s ease, transform 0.6s ease;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      user-select: none;
    }
    .product-card.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .product-card:hover {
      transform: translateY(-10px) scale(1.05);
      box-shadow: 0 22px 60px var(--shadow);
    }
    .product-image {
      height: 200px;
      overflow: hidden;
      flex-shrink: 0;
      background: #e9f0e8;
      transition: background 0.3s ease;
    }
    .product-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }
    .product-card:hover .product-image img {
      transform: scale(1.07);
    }
    .product-details {
      padding: 1.5rem 1.5rem 2rem 1.5rem;
      flex-grow: 1;
    }
    .product-title {
      font-family: 'Crimson Text', serif;
      color: var(--primary);
      font-size: 1.45rem;
      font-weight: 600;
      margin-bottom: 0.6rem;
    }
    .product-desc {
      color: #506c50;
      font-weight: 400;
      font-size: 1rem;
      line-height: 1.55;
    }
    footer {
      background: var(--dark-footer-bg);
      color: #a2b595;
      text-align: center;
      padding: 3rem 1.5rem 2rem;
      font-size: 0.95rem;
      letter-spacing: 0.4px;
      margin-top: 3.5rem;
      user-select: none;
    }
    footer a {
      color: #c8d4b6;
      font-weight: 600;
      text-decoration: none;
      transition: color 0.3s ease;
    }
    footer a:hover {
      color: var(--secondary);
    }

    /* Modal - product detail with sliding gallery */
    #modalOverlay {
      position: fixed;
      inset: 0;
      background: rgba(26, 77, 50, 0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1100;
      overflow-y: auto;
      padding: 2rem 1rem;
    }
    #modalOverlay.active {
      display: flex;
    }
    #modalContent {
      background: var(--white);
      border-radius: 20px;
      max-width: 900px;
      width: 100%;
      max-height: 90vh;
      display: flex;
      flex-direction: row;
      box-shadow: 0 8px 30px rgba(0,0,0,0.15);
      animation: slideInUp 0.6s ease forwards;
      position: relative;
    }
    @keyframes slideInUp {
      from {
        transform: translateY(80px);
        opacity: 0;
      } to {
        transform: translateY(0);
        opacity: 1;
      }
    }
    #modalGallery {
      flex: 1;
      overflow: hidden;
      border-top-left-radius: 20px;
      border-bottom-left-radius: 20px;
      background: #e9f0e8;
      position: relative;
    }
    #modalGallery img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      transition: transform 0.5s ease;
      user-select: none;
    }
    #modalDetails {
      flex: 1;
      padding: 2rem 2.5rem;
      overflow-y: auto;
    }
    #modalDetails h2 {
      font-family: 'Crimson Text', serif;
      font-weight: 700;
      font-size: 2rem;
      margin-bottom: 1rem;
      color: var(--primary);
      user-select: none;
    }
    #modalDetails p {
      font-weight: 400;
      font-size: 1.1rem;
      color: #506c50;
      line-height: 1.55;
      user-select: none;
    }
    .closeBtn {
      position: absolute;
      top: 1.3rem;
      right: 1.5rem;
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
      border: none;
      background: transparent;
      cursor: pointer;
      user-select: none;
      transition: color 0.2s ease;
    }
    .closeBtn:hover {
      color: var(--secondary);
    }
    #modalNavPrev,
    #modalNavNext {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: var(--dark-footer-bg);
      color: var(--white);
      border: none;
      font-size: 1.8rem;
      padding: 0.6rem 1rem;
      cursor: pointer;
      border-radius: 7px;
      user-select: none;
      transition: background 0.2s ease;
    }
    #modalNavPrev:hover,
    #modalNavNext:hover {
      background: var(--secondary);
    }
    #modalNavPrev { left: 12px; }
    #modalNavNext { right: 12px; }

    @media (max-width: 768px) {
      #modalContent {
        flex-direction: column;
        max-height: 85vh;
      }
      #modalGallery, #modalDetails {
        border-radius: 0;
        max-height: 50vh;
      }
      #modalDetails {
        max-height: 35vh;
        padding: 1.2rem 1.8rem;
        overflow-y: auto;
      }
      .closeBtn {
        top: 0.5rem;
        right: 0.7rem;
      }
      #modalNavPrev,
      #modalNavNext {
        font-size: 1.2rem;
        padding: 0.4rem 0.8rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo" onclick="location.href='main.html'">
      <img src="logo.png" alt="Ragana Traders Logo" />
      Ragana Traders
    </div>
    <nav>
      <a href="main.html">Home</a>
      <a href="about.html">About Us</a>
      <a href="products.html" class="active">Products</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>
  <main>
    <h1 class="fade-slide-up">Our Premium Collection</h1>
    <div class="products-grid" id="productsGrid">
      <!-- Products generated by JS -->
    </div>
  </main>

  <!-- Modal -->
  <div id="modalOverlay" aria-labelledby="modalTitle" aria-modal="true" role="dialog">
    <div id="modalContent">
      <button class="closeBtn" aria-label="Close modal">&times;</button>
      <div id="modalGallery">
        <button id="modalNavPrev" aria-label="Previous image">&#8250;</button>
        <img src="" alt="" id="modalImage" />
        <button id="modalNavNext" aria-label="Next image">&#8249;</button>
      </div>
      <div id="modalDetails">
        <h2 id="modalTitle"></h2>
        <p id="modalDescription"></p>
      </div>
    </div>
  </div>

  <footer>
    <p>Â© 2024 Ragana Traders. <br/>Sales: <a href="mailto:sales.team@raganatraders.in">sales.team@raganatraders.in</a> | Director: <a href="mailto:Director@raganatraders.in">Director@raganatraders.in</a></p>
  </footer>

  <script>
    const products = [
      {
        title: "Premium Cocopeat",
        description: "100% natural coconut coir blocks engineered for superior soil conditioning, moisture retention, and optimal root development in professional agriculture.",
        images: [
          "https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=700&h=420&fit=crop&crop=center",
          "https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=700&h=420&fit=crop&crop=center",
          "https://images.unsplash.com/photo-1498837167922-ddd27525d352?w=700&h=420&fit=crop&crop=center"
        ]
      },
      {
        title: "Organic Charcoal",
        description: "Premium activated charcoal solutions for enhanced soil aeration, natural pH balancing, and improved nutrient retention in sustainable farming systems.",
        images: [
          "https://images.unsplash.com/photo-1551801841-ecad875a5142?w=700&h=420&fit=crop&crop=center",
          "https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=700&h=420&fit=crop&crop=center",
          "https://images.unsplash.com/photo-1501004318641-b39e6451bec6?w=700&h=420&fit=crop&crop=center"
        ]
      },
      {
        title: "Vermicompost",
        description: "Premium organic vermicompost enriched by natural microbial processes, boosting fertility, plant vigor, and sustainable crop yields for modern farming.",
        images: [
          "https://images.unsplash.com/photo-1464983953574-0892a716854b?w=700&h=420&fit=crop&crop=center",
          "https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=700&h=420&fit=crop&crop=center",
          "https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=700&h=420&fit=crop&crop=center"
        ]
      }
    ];

    const productsGrid = document.getElementById('productsGrid');
    const modalOverlay = document.getElementById('modalOverlay');
    const modalTitle = document.getElementById('modalTitle');
    const modalDescription = document.getElementById('modalDescription');
    const modalImage = document.getElementById('modalImage');
    const modalNavPrev = document.getElementById('modalNavPrev');
    const modalNavNext = document.getElementById('modalNavNext');
    const modalClose = modalOverlay.querySelector('.closeBtn');

    let currentProductIndex = 0;
    let currentImageIndex = 0;

    // Create product cards dynamically
    products.forEach((product, i) => {
      const card = document.createElement('div');
      card.className = 'product-card fade-slide-up';
      card.tabIndex = 0;
      card.setAttribute('role', 'button');
      card.setAttribute('aria-pressed', 'false');
      card.setAttribute('aria-label', `View details of product: ${product.title}`);

      card.innerHTML = `
        <div class="product-image">
          <img src="${product.images[0]}" alt="${product.title} Image" loading="lazy" />
        </div>
        <div class="product-details">
          <div class="product-title">${product.title}</div>
          <div class="product-desc">${product.description}</div>
        </div>
      `;
      card.addEventListener('click', () => openModal(i));
      card.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          openModal(i);
        }
      });
      productsGrid.appendChild(card);
    });

    // Slide-up animations on scroll
    function slideUp() {
      document.querySelectorAll('.fade-slide-up').forEach(el => {
        if (el.getBoundingClientRect().top < window.innerHeight - 60) {
          el.classList.add('visible');
        }
      });
    }
    window.addEventListener('scroll', slideUp);
    window.addEventListener('load', slideUp);

    // Modal open/close and navigation
    function openModal(productIndex) {
      currentProductIndex = productIndex;
      currentImageIndex = 0;
      updateModalContent();
      modalOverlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    function closeModal() {
      modalOverlay.classList.remove('active');
      document.body.style.overflow = '';
    }
    modalClose.addEventListener('click', closeModal);
    modalOverlay.addEventListener('click', e => {
      if (e.target === modalOverlay) closeModal();
    });
    window.addEventListener('keydown', e => {
      if (e.key === 'Escape') closeModal();
    });

    function updateModalContent() {
      const product = products[currentProductIndex];
      modalTitle.textContent = product.title;
      modalDescription.textContent = product.description;
      modalImage.src = product.images[currentImageIndex];
      modalImage.alt = `${product.title} Image ${currentImageIndex + 1} of ${product.images.length}`;
    }

    modalNavPrev.addEventListener('click', () => {
      const product = products[currentProductIndex];
      currentImageIndex = (currentImageIndex - 1 + product.images.length) % product.images.length;
      updateModalContent();
    });
    modalNavNext.addEventListener('click', () => {
      const product = products[currentProductIndex];
      currentImageIndex = (currentImageIndex + 1) % product.images.length;
      updateModalContent();
    });
  </script>
</body>
</html>
